## 1. 프로젝트 목적

- **관객 예매 및 입장 관리** – 관객이 공연을 예매하고, 입금이 확인되면 QR 티켓을 발행해 입장까지 원활히 안내합니다.
    
- **공연진·관리자 관리** – 공연진은 이메일 기반으로 로그인·가입을 하고, 특정 이메일은 관리자로 지정되어 예약 현황과 계정을 관리합니다.
    
- **소통 채널 제공** – 관객이 공연진에게 응원 메시지를 남길 수 있는 게시판을 제공하며, 비공개 메시지는 특정 공연진 선택 후 선택된 공연진들에게만 보여줄 수 있습니다.
    
- **공연 정보 제공** – 공연 일정, 장소, 셋리스트 등을 사용자 친화적인 UI로 안내합니다.
    

## 2. 페이지 및 주요 기능

### 2.1. 홈 페이지(`/`)

- **역할**: 방문 시 가장 먼저 보이는 메인 페이지로, 관객의 입장 여부에 따라 다른 UI를 보여줍니다.
    
- **비입장 상태**: 로그인을 하지 않았거나 관객 인증(티켓 검증)을 하지 않은 경우, 관객용 입장 폼이 표시됩니다.
    
- **입장 후**:
    
    - 공연 포스터와 QR 티켓이 양면 카드처럼 표현되어 터치 및 스와이프 시 뒤집혀 QR코드를 확인할 수 있습니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Home.jsx#L124-L175).
        
    - QR코드는 `https://api.qrserver.com/v1/create-qr-code` API로 생성되며, 관객의 토큰 혹은 UID를 인코딩합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Home.jsx#L161-L168).
        
    - 관객은 게시판에서 사용할 닉네임을 수정할 수 있으며, `updateNickname`으로 로컬스토리지에 저장됩니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Home.jsx#L185-L205).
        
- **타임라인**: 관객 입장, 1부/2부 공연, 쉬는 시간을 아이콘과 함께 시각적으로 표시합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Home.jsx#L208-L263).
    

### 2.2. 공연 정보 페이지(`/info`)

- **역할**: 공연의 날짜, 시간, 장소, 셋리스트를 제공합니다.
    
- **인터페이스**: `Clock`과 `MapPin` 아이콘으로 시간과 장소를 강조하고, 셋리스트는 배열 데이터를 매핑해 표시합니다.
    

### 2.3. 응원 게시판(`/board`)

- **역할**: 관객과 공연진이 응원 메시지를 남기고 소통하는 공간입니다.
    
- **게시글 표시 로직**:
    
    - Firestore `posts` 컬렉션에서 최신순으로 게시글을 가져오며[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Board.jsx#L16-L20),
        
    - 비공개 글의 경우 작성자나 `visibleTo` 배열에 포함된 UID만 볼 수 있습니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Board.jsx#L27-L43).
        
- **기능**:
    
    - **작성/수정**: 글쓰기 모달에서 내용, 메모지 색상, 공개 여부를 선택하며[github.com](https://github.com/culwoo/Atempo/blob/main/src/components/WriteModal.jsx#L66-L92), 비공개 시 선택한 공연진 UID를 `visibleTo` 배열에 저장합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/components/WriteModal.jsx#L141-L163).
        
    - **삭제**: 작성자 본인이나 관리자만 삭제할 수 있습니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Board.jsx#L47-L55). 관리자의 경우 전체 공개 글만 삭제할 수 있으며, 관리자여도 개별적으로 공개한 비공개 글은 접근 및 삭제할 수 없습니다.
        
    - **수정**: 기존 데이터를 모달에 채워 `updateDoc`으로 갱신합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/components/WriteModal.jsx#L90-L101).
        

### 2.4. 예약 페이지(`/reserve`)

- **역할**: 관객이 성함, 연락처, 이메일을 입력하여 공연 티켓을 예약하는 단계형 UI를 제공합니다.
    
- **예약 신청**:
    
    1. 이름, 전화번호, 이메일을 입력하면 Firestore `reservations` 컬렉션에 문서가 생성됩니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Reservation.jsx#L15-L36).
        
    2. 금액(5,000원)과 상태(`pending`)가 함께 저장되며 예약 ID가 로컬 상태에 저장됩니다.
        
- **2단계 (입금 안내)**: 예매 완료 후 계좌번호(`우리은행 1002-158-287128`)가 노출되고 복사 버튼을 제공합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Reservation.jsx#L156-L168). 예약 정보 수정이 가능하며, 수정 시 기존 문서가 갱신됩니다.
    

### 2.5. 공연진 로그인/가입 페이지(`/performer/login`)

- **역할**: 공연진이 이메일/비밀번호로 로그인하거나 새로운 계정을 신청하는 페이지입니다.
    
- **가입**: 실명·이메일·비밀번호를 입력 받아 Firebase Auth에 등록하고 Firestore `users` 컬렉션에 이름·역할(`performer`)·가입일을 저장합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/PerformerAuth.jsx#L15-L24).
    
- **로그인 후**: 성공적으로 로그인하면 홈으로 리다이렉트됩니다.
    
### 2.6. 관리자 대시보드(`/admin`)

- **접근**: `isAdmin` 플래그가 true인 공연진만 접근 가능합니다.
    
- **예약 관리**:
    
    - `reservations` 컬렉션을 실시간 구독하여 목록을 보여주며, 상태(`pending`/`paid`)와 생성 시간 등을 표시합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Admin.jsx#L65-L89).
        
    - **수동 승인**: 관리자는 예약 상태를 `paid`로 변경하고 랜덤 토큰을 생성해 업데이트할 수 있습니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Admin.jsx#L65-L89).
        
    - **삭제/전체 삭제**: 특정 예약이나 전체 예약을 삭제하는 기능을 제공합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Admin.jsx#L81-L105).
        
- **메일 발송 로그**: 예약 확정 후 Cloud Functions를 통해 이메일이 발송되며, 성공/실패/대기 상태를 실시간으로 확인합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Admin.jsx#L140-L164).
    
- **공연진 계정 관리**: `users` 컬렉션에서 공연진 계정을 표시하고 삭제할 수 있습니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Admin.jsx#L268-L316).
    
- **티켓 발행**: 승인 시 고유 토큰 생성, 티켓 URL 복사 버튼, 상태 변경 로그.
	

### 2.7. 체크인 페이지(`/checkin`)

- **역할**: 공연 당일 관객의 QR코드를 스캔하여 입장 상태를 업데이트하는 페이지입니다.
    
- **QR 스캔**: ZXing 라이브러리를 사용해 카메라 스트림을 통해 QR코드를 인식하고, 토큰을 추출합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Checkin.jsx#L75-L116). 파라미터 `auth`가 있을 경우 해당 토큰을 그대로 사용합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Checkin.jsx#L132-L136).
    
- **입장 처리**: 예약 문서의 상태를 확인해 이미 체크인되었는지 판별하고, 첫 입장일 경우 `checkedIn`과 `checkedInAt`을 업데이트합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Checkin.jsx#L155-L173).
    
- **통계 표시**: `status = 'paid'`인 예약 수와 `checkedIn = true`인 수를 실시간으로 구독해 표시합니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Checkin.jsx#L53-L64).
    
- **수동 입력**: QR 스캔이 불가한 경우 토큰을 직접 입력하여 입장을 처리할 수 있습니다[github.com](https://github.com/culwoo/Atempo/blob/main/src/pages/Checkin.jsx#L179-L184).
    

### 2.8. 현장 예매 페이지 (`/onsite`)

- **역할**: 사전 예매를 하지 않은 관객이 공연 당일 현장에서 티켓을 구매하는 페이지입니다.
	
- **프로세스**:
    
    - **정보 입력**: 관객이 직접 본인의 스마트폰으로 이름과 연락처를 입력합니다. (`status: onsite_pending`)
        
    - **입금 및 대기**: 화면에 표시된 계좌번호(또는 토스/카카오페이 앱 연동 버튼)를 통해 이체 후, 데스크 스태프에게 확인을 요청합니다.
        
    - **승인 및 입장**: 스태프가 관리자 대시보드에서 입금 내역을 확인하고 ‘현장 확인’
        
- **가치**:
    
    - 붐비는 현장에서 종이 명단을 작성하거나 구두로 확인하는 시간을 단축시킵니다.
        
    - 현장 구매자 데이터도 DB에 통합 관리되어 추후 관객 분석에 활용할 수 있습니다.
        

## 3. 주요 사용자 여정
1) **예매**: `/reserve` 폼 입력 → 입금 안내 → *토큰* 발급 준비 상태.
2) **결제 확인**: 운영자 대시보드 `/admin`에서 운영자 핸드폰의 MacroDroid 통해서 자동 매칭 → 자동 승인 → 고유 *토큰* 기반 티켓 링크 생성. (미입금 예약에 동명이인이 동시에 존재할 경우 수동 승인) → **티켓 전달**
3) **티켓 전달**: Gamil SMTP 통해서 관객이 입력한 이메일 링크로 티켓 URL 발송. 관객은 로그인 없이 접근.
4) **정보 탐색**: `/info`에서 타임라인, 셋리스트, 장소 등 확인.
	1) **소통**: `/board`에서 변경 가능한 닉네임만으로 응원 작성, 공개/비공개 선택, 포스트잇 스타일 UI.
5) **체크인**: `/checkin`에서 QR 스캔 또는 토큰 입력 → 입장 처리 → 통계 대시보드 반영.

## 4. 페르소나 및 가치 제안
### 4.1. 관객
- **문제**: 번거로운 폼 작성, 입금 후 확인 지연, 종이 명단 입장 대기, 공연 정보 파편화, 응원 공유 부재, 예약 확정 확인 불가.
- **해결**: 가입 없이 예약→빠른 시간 안에 모바일 티켓 수령→QR 입장. 공연 정보와 응원 보드로 기대감 유지.

### 4.2. 운영자(기획/제작)
- **문제**: 입금 내역-구글 시트 대조, 명단 관리, 입장 지연, 브랜드 감성 전파 어려움.
- **해결**: 입금 자동 매칭, 자동 승인 후 티켓 링크 자동 발송, 실시간 체크인 통계, 통일된 비주얼 경험 제공.

### 4.3. 현장 스태프
- **문제**: 아날로그 명단으로 이름 찾기 병목, 인력 소모, 입장 지연, 오류 위험.
- **해결**: QR 스캔 또는 토큰 입력 체크인, 상태 변화에 따른 즉시 반영, 입장 속도 개선.

## 5. 기존 공연 운영 방식의 문제점 분석
아래 내용은 기존에 관행적으로 사용되는 **구글 폼 예약 + 개인 계좌 이체** 프로세스의 문제점을 정리한 자료입니다.

### 5.1. 기존 운영 프로세스 요약
1. 구글 폼에 관객 정보 입력 후 제출.
2. 관객이 은행 앱에서 계좌 이체.
3. 운영자가 은행 내역과 폼 응답 시트를 수동 대조.
4. 예매 확정/알림은 체계적으로 전달되지 않음.
5. 공연 당일 종이 명단으로 이름 확인 후 수기 체크인.

### 5.2. 기존 방식의 주요 문제점 분석
- **경험의 성격**: 공연의 설렘을 깨는 사무적 절차, 입금 후 불안한 공백.
- **디자인 감성 부재**: 구글 기본 테마, 포스터와 단절된 경험.
- **정보 파편화**: 공연 정보·예매·입금·문의가 서로 다른 채널(인스타/구글 폼/은행/카톡)로 분산, 실시간 안내 부재.
- **현장 병목**: 아날로그 명단 대조로 입장 지연, 인력 낭비, 동명이인/순서 오류 발생.
- **데이터 파편화**: 사전 예매자, 현장 구매자를 같은 DB에서 다루지 않기에 정확한 관객 수 집계에 어려움이 있음.
- **수정·확인 허들**: 예약 수정/확인 난이도 높고, 100~200명 규모에서 데이터 대조 시 휴먼 에러 확률 증가.
- **닫힌 소통**: 응원 공유·피드백 기능 부재, 공연 시작과 함께 구글폼 예매 링크 가치 소멸.

### 5.3. 핵심 페인 포인트 요약
- **운영자**: "입금 대조하느라 고생하고, 당일엔 데스크에서 이름 찾느라 무대 준비는 뒷전." 
- **스태프**: "명단 순서가 꼬이면 이름 찾는 데 한 세월, 줄은 길어지고 분위기는 냉각." 
- **관객**: "입금 확인이 늦고, 입장 대기 줄은 길다. 공연 한 번 보기도 힘들다." 

### 5.4. 결론
- 범용 도구의 편의성은 있으나 유료 공연의 **신뢰성**과 공연 문화의 **감성**을 담기에는 부족.
- 현장 운영에서 발생하는 아날로그 병목이 가장 큰 문제이며, 브랜드·경험·운영 효율 모두 저해.
- **Atempo**는 이 모든 문제를 단일 링크 경험, 자동화된 백오피스, 감성 있는 UI로 해결하는 것을 목표로 합니다.

## 6. Atempo의 해결 방안 및 가치 제안
### 6.1. Seamless한 디지털 경험

- **티켓의 시각화**: 모바일 웹에서 발급되는 QR 티켓은 관객에게 “초대받았다”는 확실한 소속감을 부여합니다.
- **소통의 장**: 공연 전 대기 시간에 단순히 멍하니 있는 것이 아니라, 스마트폰으로 하나의 웹사이트에서, 셋리스트를 확인하고 응원 글을 남기며 기대감을 예열할 수 있습니다.

### 6.2. 운영 자동화 및 효율성

- **자동화된 흐름**: [예약 → 입금 → 자동 매칭 → 티켓 발송] 시스템을 통해 운영자는 엑셀과 입금 내역을 대조하는 단순 반복 노동에서 벗어납니다.
- **현장 속도 혁신**: QR 스캔을 통해 입장이 즉시 완료되므로 데스크 인력을 최소화하고 입장을 빠르게 진행할 수 있습니다.
- **현장 예매 통합**: 현장 결제 고객도 `/onsite` 페이지를 통해 디지털 데이터로 즉시 편입되어, 별도의 장보 관리가 필요 없습니다.

### 6.3. 데이터 기반의 피드백

- 실시간으로 예매율과 입장율을 파악할 수 있어 현장 대응이 유연해집니다.
- 공연 후에도 정확한 관객 데이터베이스가 남아 다음 공연 홍보나 관객 분석에 활용할 수 있습니다.

---

**결론**: 아마추어 공연 운영의 프로페셔널한 전환

Atempo는 단순한 예매 도구가 아닙니다. 관객에게는 대접받는 경험을, 운영진에게는 실수 없는 편안함을 제공하여, 공연의 본질은 무대에만 집중할 수 있게 돕는 올인원 공연 운영 솔루션입니다.